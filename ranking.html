<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²æ’è¡Œæ¦œ</title>
    <link rel="stylesheet" href="ranking.css">
</head>
<body>

    <div class="container">
        <header>
            <h1>ğŸ† æ¦®è­½æ®¿å ‚ ğŸ†</h1>
            <div class="tabs">
                <button id="tab-leaderboard" class="active">å…¨ä¼ºæœå™¨æ’è¡Œ</button>
                <button id="tab-profile">å€‹äººæˆ°ç¸¾æŸ¥è©¢</button>
            </div>
        </header>

        <section id="view-leaderboard" class="content-section">
            <table id="leaderboard-table">
                <thead>
                    <tr>
                        <th>æ’å</th>
                        <th>ç©å®¶åç¨±</th>
                        <th>è©•ç´š</th>
                        <th>åˆ†æ•¸</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

        <section id="view-profile" class="content-section" style="display: none;">
            <div class="search-bar">
                <input type="text" id="player-search" placeholder="è¼¸å…¥ç©å®¶åç¨±æŸ¥è©¢...">
                <button id="btn-search">æŸ¥è©¢</button>
            </div>
            <div id="profile-container"></div>
        </section>

        <a href="index.html" class="back-btn">è¿”å›éŠæˆ²ä¸»é¸å–®</a>
    </div>

    <script type="module">
        import { renderLeaderboardTable, renderPlayerProfile } from './ranking.js';

        // 1. é é¢è¼‰å…¥æ™‚ï¼Œæ¸²æŸ“æ’è¡Œæ¦œ
        document.addEventListener('DOMContentLoaded', () => {
            renderLeaderboardTable('leaderboard-table');
        });

        // 2. è™•ç† Tab åˆ‡æ›
        const tabLeaderboard = document.getElementById('tab-leaderboard');
        const tabProfile = document.getElementById('tab-profile');
        const viewLeaderboard = document.getElementById('view-leaderboard');
        const viewProfile = document.getElementById('view-profile');

        tabLeaderboard.addEventListener('click', () => {
            tabLeaderboard.classList.add('active');
            tabProfile.classList.remove('active');
            viewLeaderboard.style.display = 'block';
            viewProfile.style.display = 'none';
        });

        tabProfile.addEventListener('click', () => {
            tabProfile.classList.add('active');
            tabLeaderboard.classList.remove('active');
            viewProfile.style.display = 'block';
            viewLeaderboard.style.display = 'none';
        });

        // 3. è™•ç†æœå°‹å€‹äººæˆ°ç¸¾
        document.getElementById('btn-search').addEventListener('click', () => {
            const name = document.getElementById('player-search').value;
            if(name) renderPlayerProfile('profile-container', name);
        });
    </script>
</body>
</html>
